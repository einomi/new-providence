# SP.Starter

**Шаблон проекта для быстрого старта.**

## Старт проекта

#### 1. Установить зависимости:

с помощью yarn (быстрее)
```
yarn install
```

или с помощью npm (медленнее):
```
npm install
```

#### 2. Запустить Gulp для разработки:
```
npm start
```

#### 3. Открыть следующий URL - [`http://localhost:9000/`](http://localhost:9000/).

## Команды ##

#### Запустить проект для разработки:
```
npm start
```

#### Собрать проект для продакшена:
```
npm run build
```

#### Создание архива `build.zip` для продакшена:
```
npm run zip
```

## HTML-шаблонизатор Nunjucks

[Nunjucks](https://mozilla.github.io/nunjucks/) - мощный шаблонизатор с синтаксисом а-ля jinja2, который позволяет создавать качественный, легкоподдерживаемый HTML-код.

HTML-шаблоны находятся в `src/templates/`.

Данные, которые могут быть использованы в нескольких местах, следует складывать в файл `global-data.json`, который находится в корне проекта. После этого к ним можно обращаться в шаблонах:
```
<p>Some title: {{ someData[0].title }}</p>
```

Кастомные фильтры, макросы и функции складываем в соответствующих файлах в `src/templates/lib`.

Так называемые инклуды создаем в `src/templates/parts` с префиксом `_`. Например, `src/templates/parts/_sidebar.nunj`.

Для эффективного применения шаблонизатора см. примеры в стартовом проекте, а также [документацию](https://mozilla.github.io/nunjucks/templating.html).

Для настройки синтаксиса в редакторах (Sublime, Webstorm) скачиваем плагин для шаблонизатора Twig и настраиваем открытие файлов с расширением .nunj с подстветкой Twig по умолчанию.

## Респонсив сетка из 12 колонок

На проектах можно использовать бутстрапоподобную сетку из 12 колонок.

Примеры использования сетки см. в `index.nunj`, а также на [сайте бутстрапа](http://getbootstrap.com/css/#grid).

Если нужно например сделать сетку из 10 колонок, а не из 12, то можно подправить соответствующие миксины в `_layout.sass`. Брейкпоинты можно изменять в `_variables.sass`

## SVG-спрайты

В стартовом проекте настроена возможность создания SVG-спрайтов с помощью [gulp-svgstore](https://github.com/w0rm/gulp-svgstore), поэтому SVG на сайт лучше добавлять следующим способом:
```
<svg><use xlink:href="#icon-some-vector-image"></use></svg>
```
При этом SVG-файл `some-vector-image.svg` должен находиться в папке `src/media/svg/`. Такому элементу необходимо задать width и height в стилях. Ему также можно менять fill, stroke при условии, что в исходном файле `some-vector-image.svg` у элемента не заданы такие же атрибуты (fill и stroke).

## Растровые спрайты

Для создания простого спрайта из изображений нужно использовать миксин
```
+s(name)
```
Следующий миксин для спрайта под ретину. Для него необходимо использовать 2 изображения: простое и в 2 раза больше. Например: `sp.png` и `sp@2x.png`.
```
+sr(name)
```

Изображения, которые собираются в спрайт, должны быть в формате `.png` и находится в директории `media/img/sprites/`.

## Инлайн картинок или SVG

Плагин postcss-assets позволяет инлайнить изображения прямо в код (в Base64 кодировке):
```
background: inline('sp.png')
```
Так же позволяет подставить размеры картинки:
```
width: width('sp.png')
```
```
height: height('sp.png')
```
```
background-size: size('sp.png')
```
Изображения, которые инлайнятся, должны находится в директории `media/img/`.

## Полезные ссылки

[Синтаксис Nunjucks](https://mozilla.github.io/nunjucks/templating.html).

[Сборка фронтенд-проекта с помощью Gulp](http://habrahabr.ru/post/250569/).

[Адаптивная сетка Twitter Bootstrap](http://getbootstrap.com/css/#grid).
